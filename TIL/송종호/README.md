### 2023.10.12
# 대학생을 위한 교수님께 이메일 대신 보내주는 서비스

- 타겟 : 대학생
1. 성적 이의제기 이메일 폼 제공
2. 빌넣 폼 제공(수강신청 끝난 이후 추가로 수강신청)
3. 사유결석 폼


### 2023.10.13
# 노래 1초 듣고 맞추기 1대1(단체 가능)

### 배경

사용자가 있는 서비스를 만들고 싶다 (최소 4000명)

- **트래픽** 받아보고 싶음 → 트래픽을 많이 받을 수 있는 간단한 게임이 유리함
- **모니터링 경험** 해봐야함 → **빠른 개발 후 빠른 배포** 필수

상용화된 노래 1대1 게임이 없음 → 블루오션

### 타겟

- 최대한 많은 사용자가 사용할 수 있는 서비스 지향

### 기능

- Youtube API
- **실시간**
- 장르를 선택 가능 → 모든 연령대의 대상 맞춤 가능
- 멀티모드, 싱글모드, MT모드
- 멀티모드 매칭 방식
    - 방 만들기 및 들어가기
    - 빠른 입장 (들어갈 수 있는 방 중 랜덤)
    - 티어 맟춤 대기열
- MT 모드 상세
    - STT (Speech To Text)를 사용하여 음성으로 답을 입력할 수 있도록
    - 진행bot (게임의 진행을 도와주도록 알고리즘)
- 추가 기능 (후보)
    - 놀라운 토요일 가사맞추기

### 기술

- 웹소켓
    - cron 스케줄링을 사용해서 실시간 갱신을 해줌
- 스프링 모니터링
    - 트래픽 이슈 해결
- 랭킹 시스템
    - redis 사용
- MSA
    - kafka or RabbitMQ
- 소나 큐브를 활용한 코드리뷰
- jenkins 무중단 배포
    - 개발 서버 운영 서버 나눠서 배포
- 로그인
    - Oauth → 소셜로그인

### 버전

- v0
    - 개인모드
- v1
    - 멀티 모드(1대1)
    - 랭킹
    - 로그인/회원가입
- v2
    - 멀티모드, MT모드

### 유사 서비스

예능 게임 모음

https://tvshowgame.pages.dev/

스타 유즈맵

[https://tipjem.com/스타크래프트-노래-맞추기-모음-카페-바로가기/](https://tipjem.com/%EC%8A%A4%ED%83%80%ED%81%AC%EB%9E%98%ED%94%84%ED%8A%B8-%EB%85%B8%EB%9E%98-%EB%A7%9E%EC%B6%94%EA%B8%B0-%EB%AA%A8%EC%9D%8C-%EC%B9%B4%ED%8E%98-%EB%B0%94%EB%A1%9C%EA%B0%80%EA%B8%B0/)


### 2023-10-16
***카훗***!은 게임 기반의 학습 플랫폼으로, 참여자가 재미있게 학습할 수 있도록 하여 효과적인 상호작용을 이끌어냅니다.

***팔콘펀치***!는 게임 기반의 노래 맞추기 플랫폼으로, 

노래 듣고 맞추기 멀티

전주 듣고 노래 빠르게 맞추기 게임

포즈 인식 ai를 이용한 스피드 노래 맞추기 게임 

다양한 난이도를 제공하는 스피드 노래 퀴즈 사이트.

- 희찬: 명절모드에서 캠 하나로 안 하고 화면에 qr 생성해서 각자 핸드폰으로 정답 제출하기(카훗처럼).
    - 사용자들의 접근성을 높이기 위해 일대일을 메인으로 가는 것이 좋다고 생각.
    - 명절모드 고도화 → 사회자가 직접 문제 출제 할 수 있게 DB에 넣어 뒀다가 다음문제 나오는 느낌으로다가
        - 출제자가 직접 타이핑해서 문제를 선정한 뒤, 해당 문제 리스트를 랜덤으로 출제하는 방식으로 고도화 할 수 있음.
        - 우리 DB에 있는 문제 리스트를 보여줘서 → 사용자가 검색 OR 체크 해서 문제를 선정할 수 있게 해줌
            - 다른 사람들이 자주 틀렸던 문제, 데일리 best, 월간 베스트, 인기차트 top100
            - 외에도 여러 통계를 기반으로 문제를 낼 수 있는 리스트를 주기

- 채련: 처음에는 혼자 맞추기(싱글 모드) → 일대일 → 단체전… 이런 식으로 발전시키는 게 좋다고 생각.
    - 유튜브 api 로 노래 불러와서 들려주기
    - 정답은 음성으로 or 텍스트로 or 오지선다형(객관식)
    - 이미.. 있었음 (게임 밑에 멀티 채팅방도 존재함)


### 2023-10-17

# 로그인/회원가입, 랭킹

- 싱글모드는 로그인 없이 로컬 스토리지로
- 멀티모드는 로그인 있게 구현
- 회원가입은 소셜, 간편 둘다 가능
- 간편 회원가입에는 아이디, 비밀번호 입력
- → 닉네임, 지역 입력

# 게임 진행 방식

## V1

### 싱글모드

- 난이도 선택 → 난이도에 따라 시간 정해짐
- 년도 선택
1. 시작부터 몇 초간 듣기
2. 버튼 3개를 누르면 재생 (처음, 중간, 끝부터 듣기)
    1. 1초 단위 기준
        1. easy : 2 , 2 , 2
        2. hard : 1, 1, 1
    2. 0.5 단위 기준
        1. easy : 2 , 2 , 2
        2. normal : 1, 1, 1
        3. hard : 0.5, 0.5, 0.5
- 단위
    - 70, 80, 90, 00년대는 100개씩
    - 70, 80, 90, 00년대, 10~14, 15~19, 20~23 복수선택 가능
- 끝나면 맞은 개수 보여줌

## V2

### 싱글모드

- SNS 공유 기능

### 멀티 모드

- 간편 로그인 (아이디,비밀번호) → 닉네임
- 빠른 시작
    - 전체 목록에서 랜덤
- 방만들기
    - 방제목
    - 년도
    - 문제 수
        - 10, 30, 50
    - 비밀번호, 비밀방 체크2
    
        
- 힌트
    - 10초에 가수 초성
    - 20초에 제목 초성
- 스킵
    - 과반수 : 절반을 버리지말고 반올리지말고 올림
- 인원수
    - 6명
- 점수
    - 맞힌 문제수 x 1
- 레벨업
    - 경험치 : 20
- 한 판 끝나면 다시 방으로


### 2023-10-18

## 후순위 기능

### 싱글모드

### 멀티모드

**랭킹**

- 지역별 랭킹도 있으면 좋을듯

### 명절모드

## 확장

사용자가 직접 플레이리스트 만들게 + 만들어둔 템플릿 사용할 수 있는 커뮤니티

명대사 맞히기 등 다른 장르 게임으로 확장 가능



### 2023-10-19

### 코치님 피드백
- 모든 유저가 동시에 노래를 들을 수 있게 하려면
    - 스타의 경우 게임이기 때문에 모든 리소스를 다운 받은 상태이다.
- 오디오 파일을 미리 받아놓은 경우는 오브젝트 풀링을 사용하면 됨
- 아니면 로딩시간 (매 문제마다 3, 2, 1 카운트 다운)을 주고 그 동안 다 네트워크를 통해 받아 놓은 다음에 stop 해 놓고 거기부터 재생

- 클라이언트가 부담이 되지 않도록 미리미리 해줘야 함

- 유튜브의 문제
    1. 광고…. 
        - CORS 에러 때문에 광고가 안 나옴
    2. 개발자모드 → 네트워크 → url을 열어보면 무슨 영상을 틀고 있는 지 알 수 있음
        - 어떻게 하면 유튜브 플레이어를 가릴 수 있을까 고민해야됨
            - 어떻게 하면 완벽하게 사용자로부터 유튜브 플레이에러를 막을 수 있을까?
            - 왜냐면 정답을 이거보고 바로 맞출 수 있음
- 사용자가 접속을 끊었다가 다시 접속하는 경우 다른 사람들이 듣고 있는 지점부터 틀어주는 기능도 구현했었다.

- 정답을 Queue에 넣고 정답을 처리하는 쓰레드가 따로 있어야 함
- 정답 쓰레드는 이벤트로 처리하는 것이 맞는 거 같다.
    - 카프카 해야 함 (이벤트 핸들링 해야 하기 때문에)
    - 스케쥴러를 사용할 때의 문제점은 Queue가 비어있어도 돌기 때문에 리소스를 먹고 있음

오브젝트 풀링

오브젝트 풀링 방식으로 음악 관련 리소스를 전부 미리 받아오거나

미리 유튜브 api 요청해서 청크파일 로드해와서 실행하기 

광고 소리도 나올수있음 (어떻게 완벽하게 유튜브 플레이어를 가릴 수 있을까)

채점할때 스레드를 하나 따로 돌려서 큐에 정답(방 번호, 사용자id, 정답)을 담아서 돌리기



